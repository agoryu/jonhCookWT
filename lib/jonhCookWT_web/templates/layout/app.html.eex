<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Elliot Vanegue">

    <title>Tour du monde John Cook</title>
    <link rel="stylesheet" href="<%= static_path(@conn, "/css/app.css") %>">
  </head>

  <body onload="startTime()">
    <div class="container">

      <p class="alert alert-info" role="alert"><%= get_flash(@conn, :info) %></p>
      <p class="alert alert-danger" role="alert"><%= get_flash(@conn, :error) %></p>

      <!-- titre -->
      <header class="jumbotron">
          <h2>Tour du monde de John Cook</h2>
          <p> "Une petite phrase qui défini le voyage"</p>
      </header>

      <main role="main">
        <%= render @view_module, @view_template, assigns %>
      </main>

    </div> <!-- /container -->

    <!-- info temps réel sur le woyage -->
    <div class="col-xs-12 col-sm-3 sidebar-offcanvas" id="sidebar">
        <div class="list-group">
            <div class="list-group-item timeContainer">
                <h3> Lille, France </h3>
                <p> Heure locale : <span id="time"></span></p>
            </div>

            <div class="list-group-item meteoContainer">
                <div id="meteo"></div>
            </div>

            <div class="list-group-item mapContainer">
                <div id="map"></div>
                <script>
                    var map;
                    function initMap() {
                        map = new google.maps.Map(document.getElementById('map'), {
                        center: {lat: 50.633333, lng: 3.066667},
                        zoom: 10
                        });
                    }
                </script>
            </div>
        </div>
    </div>

    <!-- liste réseau sociaux -->
    <nav class="social">
      <ul>
        <li><a href="https://twitter.com/JonhCookWT">Twitter <img class="socialIcon" src="<%= static_path(@conn, "/images/icons/twitter.png") %>" /></a></li>
        <li><a href="https://www.facebook.com/Jonh-Cook-173435413224344/">Facebook <img class="socialIcon" src="<%= static_path(@conn, "/images/icons/facebook.png") %>" /></a></li>
        <li><a href="https://www.youtube.com/">Youtube <img class="socialIcon" src="<%= static_path(@conn, "/images/icons/youtube.png") %>" /></a></li>
        <!-- <li><a href="https://www.tipeee.com/">Tipeee <img class="socialIcon" src="icons/tipeee.png" /></a></li>
        <li><a href="https://www.paypal.com/fr/webapps/mpp/charity">Paypal <img class="socialIcon" src="icons/paypal.png" /></a></li>-->
        <li><a href="https://www.flickr.com/photos/154697153@N07">Flickr <img class="socialIcon" src="<%= static_path(@conn, "/images/icons/flickr.png") %>" /></a></li>
      </ul>
    </nav>


    <script src="<%= static_path(@conn, "/js/app.js") %>"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCncdZRGPNFjwd63k6hs76Zq4kJZA8HI2A&callback=initMap" async defer></script>
    <script>
        function startTime() {
            var today = new Date();
            var h = today.getHours();
            var m = today.getMinutes();
            var s = today.getSeconds();
            m = checkTime(m);
            s = checkTime(s);
            document.getElementById('time').innerHTML =
            h + ":" + m + ":" + s;
            var t = setTimeout(startTime, 500);
        }
        function checkTime(i) {
            if (i < 10) {i = "0" + i};  // add zero in front of numbers < 10
            return i;
        }
    </script>
  </body>
</html>
